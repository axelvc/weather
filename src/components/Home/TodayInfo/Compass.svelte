<script lang="ts">
  export let velocity: number
  export let direction: string

  const SVG_DIRECITONS = [
    {
      pos: 'N',
      path: 'M53.74,0.34C50-0.12,46.15-0.13,42.27,0.35c-1.17,0.14-1.97,1.23-1.75,2.38l0.39,1.96c0.21,1.01,1.14,1.72,2.17,1.6 c3.33-0.4,6.63-0.39,9.84,0c1.03,0.12,1.97-0.59,2.17-1.6l0.39-1.97C55.71,1.57,54.91,0.48,53.74,0.34z',
    },
    {
      pos: 'NNE',
      path: 'M72.22,9.05l-1.11,1.67c-0.58,0.86-1.72,1.15-2.62,0.65c-2.85-1.6-5.9-2.88-9.08-3.78c-0.99-0.29-1.58-1.3-1.38-2.31 l0.39-1.97c0.23-1.15,1.4-1.85,2.53-1.53c3.7,1.05,7.26,2.53,10.58,4.4C72.55,6.76,72.87,8.08,72.22,9.05z',
    },
    {
      pos: 'NE',
      path: 'M85.3,21.27l-1.67,1.12c-0.86,0.57-2.02,0.41-2.66-0.4c-2.05-2.59-4.4-4.92-6.97-6.94c-0.81-0.64-0.97-1.8-0.4-2.66 l1.12-1.67c0.65-0.98,1.99-1.18,2.91-0.46c3.01,2.35,5.73,5.07,8.12,8.09C86.48,19.27,86.28,20.62,85.3,21.27z',
    },
    {
      pos: 'ENE',
      path: 'M92.68,37.58l-1.96,0.39c-1.01,0.2-2.02-0.39-2.3-1.38c-0.91-3.23-2.18-6.28-3.77-9.1c-0.5-0.9-0.21-2.04,0.65-2.61 l1.67-1.12c0.97-0.65,2.29-0.33,2.86,0.69c1.86,3.29,3.34,6.84,4.39,10.61C94.53,36.19,93.83,37.35,92.68,37.58z',
    },
    {
      pos: 'E',
      path: 'M95.66,53.74c-0.14,1.17-1.23,1.97-2.38,1.74l-1.97-0.39c-1.01-0.2-1.72-1.14-1.6-2.17c0.39-3.21,0.4-6.51,0-9.84 c-0.12-1.03,0.59-1.96,1.6-2.17l1.96-0.39c1.15-0.22,2.24,0.58,2.38,1.75C96.13,46.15,96.12,50,95.66,53.74z',
    },
    {
      pos: 'ESE',
      path: 'M94.22,60.95c-1.05,3.7-2.53,7.25-4.4,10.58c-0.58,1.02-1.9,1.34-2.87,0.69l-1.67-1.11c-0.86-0.58-1.15-1.72-0.65-2.62 c1.6-2.85,2.88-5.9,3.78-9.08c0.29-0.99,1.3-1.58,2.31-1.38l1.97,0.39C93.84,58.65,94.54,59.82,94.22,60.95z',
    },
    {
      pos: 'SE',
      path: 'M85.74,77.63c-2.35,3.01-5.07,5.73-8.09,8.12c-0.92,0.73-2.27,0.53-2.92-0.45l-1.12-1.67c-0.57-0.86-0.41-2.02,0.4-2.66 c2.59-2.05,4.92-4.4,6.94-6.97c0.64-0.81,1.8-0.97,2.66-0.4l1.67,1.12C86.26,75.37,86.46,76.71,85.74,77.63z',
    },
    {
      pos: 'SSE',
      path: 'M71.55,89.83c-3.29,1.86-6.84,3.34-10.61,4.39c-1.13,0.31-2.29-0.39-2.52-1.54l-0.39-1.96c-0.2-1.01,0.39-2.02,1.38-2.3 c3.23-0.91,6.28-2.18,9.1-3.77c0.9-0.5,2.04-0.21,2.61,0.65l1.12,1.67C72.89,87.94,72.57,89.26,71.55,89.83z',
    },
    {
      pos: 'S',
      path: 'M53.73,95.65c-3.88,0.48-7.73,0.47-11.47,0.01c-1.17-0.14-1.97-1.23-1.74-2.38l0.39-1.97c0.2-1.01,1.14-1.72,2.17-1.6 c3.21,0.39,6.51,0.4,9.84,0c1.03-0.12,1.96,0.59,2.17,1.6l0.39,1.96C55.7,94.42,54.9,95.51,53.73,95.65z',
    },
    {
      pos: 'SSW',
      path: 'M37.97,90.72l-0.39,1.97c-0.23,1.15-1.4,1.85-2.53,1.53c-3.7-1.05-7.26-2.53-10.58-4.4c-1.02-0.58-1.34-1.9-0.69-2.87 l1.11-1.67c0.58-0.86,1.72-1.15,2.62-0.65c2.85,1.6,5.9,2.88,9.08,3.78C37.58,88.7,38.17,89.71,37.97,90.72z',
    },
    {
      pos: 'SW',
      path: 'M22.4,83.61l-1.12,1.67c-0.65,0.98-1.99,1.18-2.91,0.46c-3.01-2.35-5.73-5.07-8.12-8.09c-0.73-0.92-0.53-2.27,0.45-2.92 l1.67-1.12c0.86-0.57,2.02-0.41,2.66,0.4c2.05,2.59,4.4,4.92,6.97,6.94C22.81,81.59,22.97,82.75,22.4,83.61z',
    },
    {
      pos: 'WSW',
      path: 'M10.7,71.12l-1.67,1.12c-0.97,0.65-2.29,0.33-2.86-0.69c-1.86-3.29-3.34-6.84-4.39-10.61c-0.31-1.13,0.39-2.29,1.54-2.52 l1.96-0.39c1.01-0.2,2.02,0.39,2.3,1.38c0.91,3.23,2.18,6.28,3.77,9.1C11.85,69.41,11.56,70.55,10.7,71.12z',
    },
    {
      pos: 'W',
      path: 'M6.29,52.92c0.12,1.03-0.59,1.96-1.6,2.17l-1.96,0.39c-1.15,0.22-2.24-0.58-2.38-1.75C-0.13,49.85-0.12,46,0.34,42.26 c0.14-1.17,1.23-1.97,2.38-1.74l1.97,0.39c1.01,0.2,1.72,1.14,1.6,2.17C5.9,46.29,5.89,49.59,6.29,52.92z',
    },
    {
      pos: 'WNW',
      path: 'M11.37,27.51c-1.6,2.85-2.88,5.9-3.78,9.08c-0.29,0.99-1.3,1.58-2.31,1.38l-1.97-0.39c-1.15-0.23-1.85-1.4-1.53-2.53 c1.05-3.7,2.53-7.26,4.4-10.58c0.58-1.02,1.9-1.34,2.87-0.69l1.67,1.11C11.58,25.47,11.87,26.61,11.37,27.51z',
    },
    {
      pos: 'NW',
      path: 'M21.99,15.03c-2.59,2.05-4.92,4.4-6.94,6.97c-0.64,0.81-1.8,0.97-2.66,0.4l-1.67-1.12c-0.98-0.65-1.18-1.99-0.46-2.91 c2.35-3.01,5.07-5.73,8.09-8.12c0.92-0.73,2.27-0.53,2.92,0.45l1.12,1.67C22.96,13.23,22.8,14.39,21.99,15.03z',
    },
    {
      pos: 'NNW',
      path: 'M36.59,7.58c-3.23,0.91-6.28,2.18-9.1,3.77c-0.9,0.5-2.04,0.21-2.61-0.65l-1.12-1.67c-0.65-0.97-0.33-2.29,0.69-2.86 c3.29-1.86,6.84-3.34,10.61-4.39c1.13-0.31,2.29,0.39,2.52,1.53l0.39,1.97C38.17,6.29,37.58,7.3,36.59,7.58z',
    },
  ]
</script>

<div class="w-20 relative">
  <!-- value -->
  <div class="absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 text-center">
    <div class="leading-none">{velocity}</div>
    <div class="text-xs text-slate-500">km/h</div>
  </div>

  <!-- cardinal points -->
  <div class="text-[0.625rem] font-semibold text-slate-500 align-middle text-center">
    <div class="absolute top-[10%] left-1/2 w-3 leading-3 -translate-x-1/2">N</div>
    <div class="absolute bottom-[10%] left-1/2 w-3 leading-3 -translate-x-1/2">S</div>
    <div class="absolute top-1/2 right-[10%] w-3 leading-3 -translate-y-1/2">E</div>
    <div class="absolute top-1/2 left-[10%] w-3 leading-3 -translate-y-1/2">W</div>
  </div>

  <!-- directions -->
  <svg viewBox="0 0 96 96" class="fill-slate-200">
    {#each SVG_DIRECITONS as d}
      <path d={d.path} class:fill-slate-900={d.pos === direction} />
    {/each}
  </svg>
</div>
